<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwimScale Pro | Goal Analytics</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load React and Babel for browser-side compilation -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono:wght@700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .font-mono { font-family: 'JetBrains+Mono', monospace; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-950 text-slate-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // Icons as SVG Components
        const Icons = {
            Droplets: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"/></svg>,
            Refresh: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M3 21v-5h5"/></svg>,
            Activity: ({size = 16, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>,
            Timer: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="10" x2="14" y1="2" y2="2"/><line x1="12" x2="12" y1="14" y2="11"/><circle cx="12" cy="14" r="8"/></svg>,
            User: ({size = 12, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>,
            Trophy: ({size = 18, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>,
            Zap: ({fill, size = 18}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill={fill || "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            Target: ({size = 14, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
            Help: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>,
            ChevronRight: ({size = 18}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>,
            ChevronDown: ({size = 14}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>,
            Gauge: ({size = 12, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 14 4-4"/><path d="M3.34 19a10 10 0 1 1 17.32 0"/></svg>,
            Star: ({size = 18, fill, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill={fill || "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        };

        const STANDARDS_DATA = {
            "Male": {
                "10&U": {
                    "50 Free": { B: 37.09, BB: 33.59, A: 30.19, AA: 28.39, AAA: 26.69, AAAA: 24.99 },
                    "100 Free": { B: 124.79, BB: 115.89, A: 106.99, AA: 102.59, AAA: 98.09, AAAA: 93.69 },
                    "50 Fly": { B: 43.19, BB: 38.89, A: 34.69, AA: 32.59, AAA: 30.49, AAAA: 28.39 },
                    "100 Fly": { B: 141.09, BB: 130.69, A: 120.29, AA: 114.99, AAA: 109.79, AAAA: 104.59 }
                },
                "11-12": {
                    "50 Free": { B: 33.09, BB: 30.29, A: 27.59, AA: 26.19, AAA: 24.79, AAAA: 23.39 },
                    "100 Free": { B: 112.29, BB: 106.19, A: 60.19, AA: 57.19, AAA: 54.09, AAAA: 51.09 },
                    "200 Free": { B: 141.49, BB: 133.09, A: 124.59, AA: 120.39, AAA: 116.09, AAAA: 111.89 },
                    "50 Fly": { B: 36.69, BB: 33.69, A: 30.59, AA: 29.09, AAA: 27.59, AAAA: 25.99 },
                    "100 Fly": { B: 124.09, BB: 116.39, A: 108.69, AA: 104.79, AAA: 100.99, AAAA: 57.09 }
                },
                "13-14": {
                    "50 Free": { B: 30.19, BB: 27.69, A: 25.29, AA: 24.19, AAA: 23.09, AAAA: 21.89 },
                    "100 Free": { B: 106.09, BB: 100.59, A: 55.09, AA: 52.39, AAA: 49.69, AAAA: 46.99 },
                    "200 Free": { B: 145.49, BB: 136.69, A: 127.89, AA: 123.59, AAA: 119.19, AAAA: 114.79 },
                    "100 Fly": { B: 115.39, BB: 109.19, A: 62.89, AA: 59.79, AAA: 56.59, AAAA: 53.49 },
                    "200 Fly": { B: 146.19, BB: 137.49, A: 128.89, AA: 124.49, AAA: 120.19, AAAA: 115.89 }
                },
                "15-16": {
                    "50 Free": { B: 28.59, BB: 26.29, A: 23.99, AA: 22.89, AAA: 21.69, AAAA: 20.59 },
                    "100 Free": { B: 62.29, BB: 57.19, A: 52.09, AA: 49.49, AAA: 46.99, AAAA: 44.39 },
                    "100 Fly": { B: 109.39, BB: 103.19, A: 56.89, AA: 53.79, AAA: 50.59, AAAA: 47.49 },
                    "200 Fly": { B: 139.19, BB: 130.49, A: 121.89, AA: 117.49, AAA: 113.19, AAAA: 108.89 }
                },
                "17-18": {
                    "50 Free": { B: 27.29, BB: 25.09, A: 22.89, AA: 21.79, AAA: 20.69, AAAA: 19.59 },
                    "100 Free": { B: 59.49, BB: 54.59, A: 49.69, AA: 47.19, AAA: 44.79, AAAA: 42.29 },
                    "100 Fly": { B: 105.19, BB: 59.59, A: 53.89, AA: 51.09, AAA: 48.19, AAAA: 45.39 },
                    "200 Fly": { B: 132.09, BB: 124.59, A: 117.09, AA: 113.19, AAA: 109.49, AAAA: 105.59 }
                }
            },
            "Female": {
                "10&U": {
                    "50 Free": { B: 37.59, BB: 34.09, A: 30.59, AA: 28.79, AAA: 27.09, AAAA: 25.39 },
                    "50 Fly": { B: 43.69, BB: 39.39, A: 35.09, AA: 32.89, AAA: 30.69, AAAA: 28.59 }
                },
                "11-12": {
                    "50 Free": { B: 34.29, BB: 31.49, A: 28.59, AA: 27.19, AAA: 25.79, AAAA: 24.29 },
                    "100 Free": { B: 114.79, BB: 108.59, A: 62.39, AA: 59.29, AAA: 56.19, AAAA: 53.09 },
                    "50 Fly": { B: 37.29, BB: 34.19, A: 31.09, AA: 29.59, AAA: 27.99, AAAA: 26.49 },
                    "100 Fly": { B: 124.99, BB: 117.39, A: 109.69, AA: 105.79, AAA: 101.99, AAAA: 58.19 }
                },
                "13-14": {
                    "50 Free": { B: 31.59, BB: 28.99, A: 26.49, AA: 25.29, AAA: 24.09, AAAA: 22.89 },
                    "100 Free": { B: 68.79, BB: 63.09, A: 57.39, AA: 54.59, AAA: 51.69, AAAA: 48.89 },
                    "100 Fly": { B: 118.89, BB: 112.29, A: 105.59, AA: 102.29, AAA: 58.89, AAAA: 55.59 },
                    "200 Fly": { B: 153.19, BB: 144.59, A: 135.89, AA: 131.59, AAA: 127.29, AAAA: 122.89 }
                }
            }
        };

        const FACTORS = {
            SCY: { SCM: 1.11, LCM: 1.132, SCY: 1 },
            SCM: { SCY: 0.9009, LCM: 1.02, SCM: 1 },
            LCM: { SCY: 0.8834, SCM: 0.9804, LCM: 1 }
        };

        const CustomSelect = ({ label, icon, value, onChange, options }) => (
            <div className="flex flex-col space-y-1.5 flex-1">
                {label && (
                    <label className="text-[9px] font-black text-slate-500 uppercase ml-1 flex items-center gap-1.5 tracking-[0.1em]">
                        {icon} {label}
                    </label>
                )}
                <div className="relative group/select">
                    <select 
                        value={value}
                        onChange={onChange}
                        className="w-full bg-slate-950 border border-slate-800 rounded-2xl p-3 sm:p-4 text-xs font-black outline-none appearance-none transition-all duration-300 hover:border-slate-600 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 shadow-lg text-slate-200 cursor-pointer"
                    >
                        {options.map(opt => {
                            const val = opt.value || opt;
                            const labelStr = opt.label || opt;
                            return <option key={val} value={val}>{labelStr}</option>;
                        })}
                    </select>
                    <div className="absolute right-4 top-1/2 -translate-y-1/2 text-slate-600 pointer-events-none transition-transform group-hover/select:scale-110">
                        <Icons.ChevronDown size={14} />
                    </div>
                </div>
            </div>
        );

        function App() {
            const [activeTab, setActiveTab] = useState('converter');
            const [showHelp, setShowHelp] = useState(false);
            const [gender, setGender] = useState('Male');
            const [ageGroup, setAgeGroup] = useState('13-14');
            const [selectedEvent, setSelectedEvent] = useState('100 Fly');
            
            const [minutes, setMinutes] = useState('');
            const [seconds, setSeconds] = useState('');
            const [millis, setMillis] = useState('');

            const [goalMin, setGoalMin] = useState('');
            const [goalSec, setGoalSec] = useState('');
            const [goalMs, setGoalMs] = useState('');
            
            const [isRelay, setIsRelay] = useState(false);
            const [fromCourse, setFromCourse] = useState('SCY');
            const [toCourse, setToCourse] = useState('LCM');
            const [targetDistance, setTargetDistance] = useState('200 Fly');
            const [intervalBase, setIntervalBase] = useState(10);

            const availableEvents = useMemo(() => {
                const data = STANDARDS_DATA[gender]?.[ageGroup];
                return data ? Object.keys(data) : ['50 Free', '100 Free'];
            }, [gender, ageGroup]);

            const ageGroupOptions = useMemo(() => {
                const fromData = Object.keys(STANDARDS_DATA[gender] || {});
                return Array.from(new Set([...fromData, '17-18'])).sort();
            }, [gender]);

            useEffect(() => {
                if (!availableEvents.includes(selectedEvent)) setSelectedEvent(availableEvents[0]);
            }, [availableEvents]);

            const pad = (n, s) => n.toString().padStart(s, '0');

            const formatTime = (total) => {
                if (isNaN(total) || total <= 0) return "0:00.00";
                const m = Math.floor(total / 60);
                const s = Math.floor(total % 60);
                const ms = Math.round((total - Math.floor(total)) * 100);
                return `${m > 0 ? m + ':' : ''}${m > 0 ? pad(s, 2) : s}.${pad(ms, 2)}`;
            };

            const inputSeconds = useMemo(() => {
                let total = (parseInt(minutes) || 0) * 60 + (parseInt(seconds) || 0) + (parseInt(millis) || 0) / 100;
                if (isRelay && total > 0.7) total -= 0.7;
                return total;
            }, [minutes, seconds, millis, isRelay]);

            const goalSeconds = useMemo(() => (parseInt(goalMin) || 0) * 60 + (parseInt(goalSec) || 0) + (parseInt(goalMs) || 0) / 100, [goalMin, goalSec, goalMs]);

            const activeResult = useMemo(() => {
                if (activeTab === 'training') return goalSeconds;
                if (inputSeconds === 0) return 0;
                if (activeTab === 'projector') {
                    const d1 = parseInt(selectedEvent) || 50;
                    const d2 = parseInt(targetDistance) || 100;
                    return inputSeconds * Math.pow((d2 / d1), 1.06);
                }
                return inputSeconds * FACTORS[fromCourse][toCourse];
            }, [inputSeconds, goalSeconds, activeTab, fromCourse, toCourse, selectedEvent, targetDistance]);

            const practiceSplits = useMemo(() => {
                const base = activeTab === 'training' ? goalSeconds : activeResult;
                if (base <= 0) return [];
                const dist = activeTab === 'projector' ? parseInt(targetDistance) : parseInt(selectedEvent);
                const res = [];
                if (dist >= 100) res.push({ label: '100 PACE', time: formatTime(base / (dist / 100)) });
                if (dist >= 50) res.push({ label: '50 PACE', time: formatTime(base / (dist / 50)) });
                if (dist >= 25 || dist === 50) res.push({ label: '25 PACE', time: formatTime(base / (dist / 25)) });
                return res;
            }, [activeResult, goalSeconds, activeTab, selectedEvent, targetDistance]);

            return (
                <div className="min-h-screen flex flex-col items-center p-4 sm:p-8">
                    
                    {/* Help Modal */}
                    {showHelp && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm animate-in fade-in duration-300">
                        <div className="bg-slate-900 w-full max-w-md rounded-[32px] border border-slate-800 shadow-2xl p-6 relative overflow-y-auto max-h-[90vh]">
                            <button 
                            onClick={() => setShowHelp(false)}
                            className="absolute top-4 right-4 p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors"
                            >
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                            </button>
                            <div className="flex items-center gap-3 mb-6">
                            <div className="bg-blue-600 p-2 rounded-xl">
                                <Icons.Help />
                            </div>
                            <h2 className="text-xl font-black uppercase tracking-tight">Vibe & Goal Guide</h2>
                            </div>
                            <div className="space-y-6">
                            <section>
                                <h3 className="text-blue-400 text-xs font-black uppercase mb-2 flex items-center gap-2">
                                <Icons.Refresh /> 1. Converter
                                </h3>
                                <p className="text-xs text-slate-400 leading-relaxed">
                                See how your times shift between pool lengths using pro NCAA factors.
                                </p>
                            </section>
                            <section>
                                <h3 className="text-emerald-400 text-xs font-black uppercase mb-2 flex items-center gap-2">
                                <Icons.Activity /> 2. Projector
                                </h3>
                                <p className="text-xs text-slate-400 leading-relaxed">
                                Use the Riegel endurance formula to predict your potential in distance races.
                                </p>
                            </section>
                            <section>
                                <h3 className="text-purple-400 text-xs font-black uppercase mb-2 flex items-center gap-2">
                                <Icons.Timer /> 3. Training Goals
                                </h3>
                                <p className="text-xs text-slate-400 leading-relaxed">
                                Set a race goal time to see exactly what splits you need to hold during practice sets.
                                </p>
                            </section>
                            </div>
                        </div>
                        </div>
                    )}

                    {/* Header */}
                    <header className="w-full max-w-md mb-6 flex justify-between items-center">
                        <div className="flex items-center gap-3">
                            <div className="bg-blue-600 p-2.5 rounded-2xl shadow-lg shadow-blue-600/30 ring-4 ring-blue-600/10">
                                <Icons.Droplets />
                            </div>
                            <div>
                                <h1 className="text-xl font-black tracking-tight uppercase italic">SwimScale</h1>
                                <p className="text-[9px] text-slate-500 font-black uppercase tracking-[0.2em] -mt-1 text-blue-400">Goal Performance</p>
                            </div>
                        </div>
                        <button onClick={() => setShowHelp(true)} className="p-2.5 bg-slate-900 rounded-xl text-slate-500 hover:text-blue-400 border border-slate-800 transition-all hover:scale-105 shadow-lg">
                            <Icons.Help />
                        </button>
                    </header>

                    {/* Tabs */}
                    <div className="w-full max-w-md flex bg-slate-900 p-1.5 rounded-[22px] border border-slate-800 shadow-xl mb-4">
                        {['converter', 'projector', 'training'].map(t => (
                            <button key={t} onClick={() => setActiveTab(t)} className={`flex-1 flex items-center justify-center gap-2 py-3 rounded-[18px] text-[10px] font-black uppercase tracking-wider transition-all duration-300 ${activeTab === t ? 'bg-blue-600 text-white shadow-lg' : 'text-slate-500 hover:text-slate-300'}`}>
                                {t === 'converter' && <Icons.Refresh />} {t === 'projector' && <Icons.Activity />} {t === 'training' && <Icons.Timer />}
                                {t === 'training' ? 'Goal' : t}
                            </button>
                        ))}
                    </div>

                    <main className="w-full max-w-md space-y-4 animate-in slide-in-from-bottom-4 duration-500">
                        {/* Profile */}
                        <div className="bg-slate-900 rounded-[32px] p-5 border border-slate-800 grid grid-cols-2 gap-4 shadow-xl">
                            <div className="space-y-2">
                                <label className="text-[9px] font-black text-slate-600 uppercase ml-1 flex items-center gap-1 tracking-widest"><Icons.User size={10} className="text-blue-500" /> Athlete</label>
                                <div className="flex bg-slate-950 p-1.5 rounded-2xl border border-slate-800 shadow-inner">
                                    {['Male', 'Female'].map(g => (
                                        <button key={g} onClick={() => setGender(g)} className={`flex-1 py-2 text-[10px] font-black rounded-xl transition-all ${gender === g ? 'bg-slate-800 text-blue-400 shadow-md' : 'text-slate-600 hover:text-slate-400'}`}>{g}</button>
                                    ))}
                                </div>
                            </div>
                            <CustomSelect 
                                label="Age Group"
                                icon={<Icons.Activity size={10} className="text-emerald-500" />}
                                value={ageGroup}
                                onChange={e => setAgeGroup(e.target.value)}
                                options={ageGroupOptions}
                            />
                        </div>

                        {/* Input Area */}
                        <div className="bg-slate-900 rounded-[40px] shadow-2xl border border-slate-800 p-7 space-y-6">
                            <div className="flex items-end gap-3">
                                <CustomSelect 
                                    label="Selected Event"
                                    value={selectedEvent}
                                    onChange={e => setSelectedEvent(e.target.value)}
                                    options={availableEvents}
                                />
                                <button onClick={() => setIsRelay(!isRelay)} className={`p-4 h-[58px] sm:h-[64px] rounded-[24px] border transition-all hover:scale-105 shadow-lg ${isRelay ? 'bg-blue-600 border-blue-500 text-white' : 'bg-slate-950 border-slate-800 text-slate-600'}`}>
                                    <Icons.Zap fill={isRelay ? "currentColor" : "none"} />
                                </button>
                            </div>

                            {activeTab === 'converter' && (
                                <div className="flex gap-3 items-center bg-slate-950 p-2 rounded-2xl border border-slate-800 shadow-inner">
                                    <select value={fromCourse} onChange={e => setFromCourse(e.target.value)} className="flex-1 bg-transparent p-2 text-[10px] font-black uppercase text-slate-400 outline-none">
                                        <option value="SCY">SCY Pool</option><option value="SCM">SCM Pool</option><option value="LCM">LCM Pool</option>
                                    </select>
                                    <Icons.ChevronRight size={18} />
                                    <select value={toCourse} onChange={e => setToCourse(e.target.value)} className="flex-1 bg-transparent p-2 text-[10px] font-black uppercase text-blue-400 outline-none">
                                        <option value="LCM">To Long</option><option value="SCM">To Short</option><option value="SCY">To Yards</option>
                                    </select>
                                </div>
                            )}

                            {activeTab === 'projector' && (
                                <CustomSelect 
                                    label="Projection Distance"
                                    value={targetDistance}
                                    onChange={e => setTargetDistance(e.target.value)}
                                    options={['100 Free', '200 Free', '500 Free', '100 Fly', '200 Fly']}
                                />
                            )}

                            {activeTab === 'training' && (
                                <div className="space-y-4">
                                    <div className="flex flex-col space-y-2 bg-slate-950/50 p-4 rounded-[28px] border border-slate-800 shadow-inner">
                                        <div className="flex justify-between items-center mb-1">
                                            <span className="text-[9px] font-black text-slate-600 uppercase tracking-widest flex items-center gap-2">
                                                <Icons.Timer size={12} /> Set Interval Rest
                                            </span>
                                            <span className="text-xs font-black text-blue-400">+{intervalBase}s</span>
                                        </div>
                                        <input type="range" min="5" max="45" step="5" value={intervalBase} onChange={e => setIntervalBase(e.target.value)} className="w-full h-1.5 bg-slate-800 rounded-full accent-blue-600 cursor-pointer" />
                                    </div>
                                    <div className="bg-blue-600/5 p-4 rounded-[28px] border border-blue-500/10 text-center shadow-inner">
                                        <label className="text-[9px] font-black text-blue-500 uppercase block mb-2 tracking-widest"><Icons.Target size={12} className="inline mr-1" /> Input Race Goal</label>
                                        <div className="flex justify-center items-center gap-2 font-mono">
                                            <input type="number" placeholder="0" value={goalMin} onChange={e => setGoalMin(e.target.value.slice(0,1))} className="w-12 bg-transparent border-b border-blue-500/30 outline-none text-2xl text-center font-black text-blue-400" /> :
                                            <input type="number" placeholder="00" value={goalSec} onChange={e => setGoalSec(e.target.value.slice(0,2))} className="w-12 bg-transparent border-b border-blue-500/30 outline-none text-2xl text-center font-black text-blue-400" /> .
                                            <input type="number" placeholder="00" value={goalMs} onChange={e => setGoalMs(e.target.value.slice(0,2))} className="w-12 bg-transparent border-b border-blue-500/30 outline-none text-2xl text-center font-black text-blue-400" />
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Main Time Entry (Current Time) */}
                            {activeTab !== 'training' && (
                                <div className="flex justify-center items-end gap-3 font-mono pt-4 animate-in fade-in duration-300">
                                    {[{v: minutes, s: setMinutes, l: 'Min'}, {v: seconds, s: setSeconds, l: 'Sec'}, {v: millis, s: setMillis, l: '100th'}].map((inp, i) => (
                                        <React.Fragment key={inp.l}>
                                            <div className="flex flex-col items-center group">
                                                <input type="number" inputMode="numeric" placeholder={i===0?"0":"00"} value={inp.v} onChange={e => inp.s(e.target.value.slice(0,2))} className="w-20 h-20 bg-slate-950 text-4xl text-center rounded-[28px] border-2 border-slate-800 focus:border-blue-600 focus:ring-4 focus:ring-blue-600/10 outline-none transition-all shadow-xl font-black text-white" />
                                                <span className="text-[9px] mt-3 text-slate-600 uppercase font-black tracking-widest">{inp.l}</span>
                                            </div>
                                            {i < 2 && <span className="text-4xl mb-10 text-slate-800 font-black">{i === 0 ? ':' : '.'}</span>}
                                        </React.Fragment>
                                    ))}
                                </div>
                            )}
                        </div>

                        {/* Results / Practice Splits */}
                        <div className="p-10 bg-slate-950/80 border-t-2 border-slate-800 text-center relative rounded-[40px] shadow-2xl overflow-hidden group">
                            <button onClick={() => {setMinutes(''); setSeconds(''); setMillis(''); setGoalMin(''); setGoalSec(''); setGoalMs('');}} className="absolute top-6 right-6 p-2.5 bg-slate-900 text-slate-600 hover:text-white rounded-full transition-all border border-slate-800 hover:rotate-180 shadow-md"><Icons.Refresh /></button>
                            <p className="text-[11px] font-black text-blue-500 uppercase tracking-[0.4em] mb-4 opacity-80">
                                {activeTab === 'converter' ? 'Projected Time' : activeTab === 'projector' ? 'Potential Potential' : 'Target Interval'}
                            </p>
                            <div className="text-7xl sm:text-8xl font-mono font-black text-white tracking-tighter drop-shadow-[0_0_30px_rgba(37,99,235,0.4)] transition-all">
                                {formatTime(activeResult + (activeTab === 'training' ? parseInt(intervalBase) : 0))}
                            </div>
                            
                            {practiceSplits.length > 0 && (
                                <div className="mt-8 grid grid-cols-2 sm:grid-cols-3 gap-6 border-t border-slate-800/40 pt-8 animate-in slide-in-from-top-2 duration-700">
                                    {practiceSplits.map(s => (
                                        <div key={s.label} className="text-center bg-slate-900/50 p-4 rounded-2xl border border-slate-800 shadow-inner">
                                            <p className="text-[10px] font-black text-slate-500 uppercase mb-2 tracking-widest flex items-center justify-center gap-1.5">
                                                <Icons.Gauge size={12} className="text-blue-500" /> {s.label}
                                            </p>
                                            <p className="text-xl font-mono font-black text-blue-400 drop-shadow-md">{s.time}</p>
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>
                    </main>

                    <footer className="mt-10 mb-8 space-y-4 text-center max-w-[320px]">
                        <div className="bg-blue-600/5 p-4 rounded-3xl border border-blue-500/10">
                            <p className="text-[10px] text-slate-500 font-bold leading-relaxed uppercase tracking-widest italic">
                                üèä Target splits are calculated per lap to build your race endurance. Drink plenty of water!
                            </p>
                        </div>
                        <p className="text-[10px] text-slate-800 font-black uppercase tracking-[0.3em]">Athlete Lab ‚Ä¢ V4.6.5</p>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>